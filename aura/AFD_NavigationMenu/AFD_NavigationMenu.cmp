<aura:component extends="forceCommunity:navigationMenuBase" implements="forceCommunity:availableForAllPageTypes"
                access="global" description="Navigation Menu Component">
    <aura:attribute name="isSearchBoxVisible" type="Boolean" default="false" access="private" />
    <aura:attribute name="homepage" type="String" default="" access="private" />
    <aura:attribute name="profileMenu" type="Aura.Component[]" required="false" />
    <aura:attribute name="search" type="Aura.Component[]" required="false" access="public" />
    
    
    
    <div class="afd-header-container">
        <div class="afd-header">
            <a class="sbglogo" href="{!v.homepage}" data-id="header_nav_link" data-text="Header | Logo">
                <div class="sbglogo-image"></div>
            </a>
            <div aura:id="mobilenavid" class="mobileNavOverlay">
                <nav class="afd-navbar" aura:id="hamburgerid">
                    <ul onclick="{!c.onClick}">
                        <aura:iteration items="{!v.menuItems}" var="item" >
                            <aura:if isTrue="{!item.subMenu}">
                                <li>{!item.label}</li>
                                <ul>
                                    <aura:iteration items="{!item.subMenu}" var="subItem">
                                        <li><a data-menu-item-id="{!subItem.id}" href="">{!subItem.label}</a></li>
                                    </aura:iteration>
                                </ul>
                                <aura:set attribute="else">
                                    <li><a data-menu-item-id="{!item.id}" href="">{!item.label}</a></li>
                                </aura:set>
                            </aura:if>
                        </aura:iteration>
                    </ul>
                </nav>
            </div>
            <div class="padding-horizontal searchRegion" style="display: flex;">
                <span aura:id="showsearchbar">
                    <lightning:buttonIcon iconName="utility:search" variant="bare" iconClass="utilityicon"
                                          onclick="{! c.showSearch }" alternativeText="Expand search" tooltip="Expand search" />
                </span>
                <aura:if isTrue="{!v.isSearchBoxVisible}">
                    <span class="searchRegion" onkeypress="{!c.searchKeyCheck}">
                        {!v.search}
                    </span>
                    <span>
                        <lightning:buttonIcon iconName="utility:close" variant="bare" iconClass="utilityicon cross"
                                              onclick="{! c.closeSearch }" alternativeText="Close Search" tooltip="Close Search" />
                    </span>
                </aura:if>
            </div>
            <div class="padding-horizontal notifications">
                <forceCommunity:notifications />
            </div>

            <div class="profileMenuRegion">
                {!v.profileMenu}
            </div>
        </div>
    </div>
    
</aura:component>